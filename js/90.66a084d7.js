"use strict";(self["webpackChunkvue_crm"]=self["webpackChunkvue_crm"]||[]).push([[90],{8090:function(s,e,i){i.r(e),i.d(e,{default:function(){return b}});var a=i(6252),t=i(9963),r=i(3577);const l={class:"card-content"},d=(0,a._)("span",{class:"card-title"},"Домашняя бухгалтерия",-1),n={class:"input-field"},o=(0,a._)("label",{for:"email"},"Email",-1),u={class:"input-field"},m=(0,a._)("label",{for:"password"},"Пароль",-1),c={class:"card-action"},p=(0,a._)("div",null,[(0,a._)("button",{class:"btn waves-effect waves-light auth-submit",type:"submit"},[(0,a.Uk)(" Войти "),(0,a._)("i",{class:"material-icons right"},"send")])],-1),v={class:"center"};function w(s,e,i,w,$,h){const g=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("form",{class:"card auth-card",onSubmit:e[2]||(e[2]=(0,t.iM)(((...s)=>h.submitHandler&&h.submitHandler(...s)),["prevent"]))},[(0,a._)("div",l,[d,(0,a._)("div",n,[(0,a.wy)((0,a._)("input",{id:"email",type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>s.email=e),class:(0,r.C_)({invalid:s.v$.email.$dirty&&!s.v$.email.required||s.v$.email.$dirty&&!s.v$.email.email})},null,2),[[t.nr,s.email,void 0,{trim:!0}]]),o,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.v$.email.$errors,(s=>((0,a.wg)(),(0,a.iD)("small",{class:"helper-text invalid",key:s.$uid},(0,r.zw)(s.$message),1)))),128))]),(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{id:"password",type:"password","onUpdate:modelValue":e[1]||(e[1]=e=>s.password=e),class:(0,r.C_)({invalid:s.v$.password.$dirty&&!s.v$.password.required||s.v$.password.$dirty&&!s.v$.password.minLength})},null,2),[[t.nr,s.password,void 0,{trim:!0}]]),m,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.v$.password.$errors,(s=>((0,a.wg)(),(0,a.iD)("small",{class:"helper-text invalid",key:s.$uid},(0,r.zw)(s.$message),1)))),128))])]),(0,a._)("div",c,[p,(0,a._)("p",v,[(0,a.Uk)(" Нет аккаунта? "),(0,a.Wm)(g,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)("Зарегистрироваться")])),_:1})])])],32)}i(7658);var $=i(4028),h=i(2587),g=i(6270),_={name:"login",setup:()=>({v$:(0,$.Xw)()}),data:()=>({email:"",password:""}),validations:{email:{email:h.BM.withMessage("Введите корректный Email",h.Do),required:h.BM.withMessage("Поле Email не должно быть пустым",h.C1)},password:{required:h.BM.withMessage("Введите пароль",h.C1),minLength:h.BM.withMessage((({$params:s,$model:e})=>`Пароль должен быть ${s.min} символов. Сейчас он  ${e.length}`),(0,h.Ei)(6))}},mounted(){g.Z[this.$route.query.message]&&this.$message(g.Z[this.$route.query.message])},methods:{async submitHandler(){if(this.v$.$invalid)return void this.v$.$touch();const s={email:this.email,password:this.password};try{await this.$store.dispatch("login",s),this.$router.push("/")}catch(e){e.message}}}},f=i(3744);const y=(0,f.Z)(_,[["render",w]]);var b=y}}]);
//# sourceMappingURL=90.66a084d7.js.map