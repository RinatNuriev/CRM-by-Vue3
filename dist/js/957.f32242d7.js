"use strict";(self["webpackChunkvue_crm"]=self["webpackChunkvue_crm"]||[]).push([[957],{9957:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var s=t(3396);const n={class:"page-title"},a=(0,s._)("h3",null,"Счет",-1),c=(0,s._)("i",{class:"material-icons"},"refresh",-1),l=[c],u={key:1,class:"row"};function i(e,r,t,c,i,d){const o=(0,s.up)("loader"),h=(0,s.up)("home-bill"),m=(0,s.up)("home-currency");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[a,(0,s._)("button",{class:"btn waves-effect waves-light btn-small",onClick:r[0]||(r[0]=(...e)=>d.refresh&&d.refresh(...e))},l)]),e.loading?((0,s.wg)(),(0,s.j4)(o,{key:0})):((0,s.wg)(),(0,s.iD)("div",u,[(0,s.Wm)(h,{rates:e.currency.rates},null,8,["rates"]),(0,s.Wm)(m,{rates:e.currency.rates,date:e.currency.date},null,8,["rates","date"])]))])}var d=t(7139);const o={class:"col s12 m6 l4"},h={class:"card light-blue bill-card"},m={class:"card-content white-text"},_=(0,s._)("span",{class:"card-title"},"Счет в валюте",-1);function y(e,r,t,n,a,c){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",h,[(0,s._)("div",m,[_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.currencies,(e=>((0,s.wg)(),(0,s.iD)("p",{key:e,class:"currency-line"},[(0,s._)("span",null,(0,d.zw)(c.currencyFilter(c.getCurrency(e),e)),1)])))),128))])])])}var g={data:()=>({currencies:["RUB","EUR","USD"]}),props:["rates"],computed:{base(){return this.$store.getters.info.bill/(this.rates["RUB"]/this.rates["EUR"])}},methods:{getCurrency(e){return Math.floor(this.base*this.rates[e])},currencyFilter(e,r="RUB"){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:r}).format(e)}}},v=t(89);const w=(0,v.Z)(g,[["render",y]]);var p=w;const U={class:"col s12 m6 l8"},b={class:"card orange darken-3 bill-card"},f={class:"card-content white-text"},R=(0,s._)("div",{class:"card-header"},[(0,s._)("span",{class:"card-title"},"Курс валют")],-1),D=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Валюта"),(0,s._)("th",null,"Курс"),(0,s._)("th",null,"Дата")])],-1);function k(e,r,t,n,a,c){return(0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",b,[(0,s._)("div",f,[R,(0,s._)("table",null,[D,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.currencies,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",null,(0,d.zw)(e),1),(0,s._)("td",null,(0,d.zw)(t.rates[e].toFixed(2)),1),(0,s._)("td",null,(0,d.zw)(t.date),1)])))),128))])])])])])}var B={props:["rates","date"],data:()=>({currencies:["RUB","USD","EUR"]})};const E=(0,v.Z)(B,[["render",k]]);var C=E,H=t(4667),z={name:"Home",data:()=>({loading:!0,currency:null}),async mounted(){this.currency={base:"EUR",date:"2023-03-17",rates:{EUR:1,RUB:82.417123,USD:1.067851},success:!0,timestamp:1679079783},this.loading=!1},components:{HomeBill:p,HomeCurrency:C,Loader:H.Z},methods:{async refresh(){this.loading=!0,this.currency={base:"EUR",date:"2023-03-17",rates:{EUR:1,RUB:82.417123,USD:1.067851},success:!0,timestamp:1679079783},this.loading=!1}}};const F=(0,v.Z)(z,[["render",i]]);var S=F}}]);
//# sourceMappingURL=957.f32242d7.js.map